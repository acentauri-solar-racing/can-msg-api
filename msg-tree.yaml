bms:
  bms_heartbeat:
    id:  "0x600"
    id_type: "std"
    dlc: 8
    data:
      bmu_heartbeat:
        type: data_u32
        idx: 0
      serial_num:
        type: data_u32
        idx: 1

  bms_cmu_1_stat:
    id:  "0x601"
    id_type: "std"
    dlc: 8
    data:
      serial_num:
        type: data_u32
        idx: 0
      pcb_temp:
        type: data_16
        idx: 2
      cell_temp:
        type: data_16
        idx: 3
  bms_cmu_1_cells_1:
    id:  "0x602"
    id_type: "std"
    dlc: 8
    data:
      cell_0_volt:
        type: data_16
        idx: 0
      cell_1_volt:
        type: data_16
        idx: 1
      cell_2_volt:
        type: data_16
        idx: 2
      cell_3_volt:
        type: data_16
        idx: 3
  bms_cmu_1_cells_2:
    id:  "0x603"
    id_type: "std"
    dlc: 8
    data:
      cell_4_volt:
        type: data_16
        idx: 0
      cell_5_volt:
        type: data_16
        idx: 1
      cell_6_volt:
        type: data_16
        idx: 2
      cell_7_volt:
        type: data_16
        idx: 3

  bms_pack_soc:
    id:  "0x6F4"
    id_type: "std"
    dlc: 8
    data:
      soc_ah:
        type: data_fp
        idx: 0
      soc_percent:
        type: data_fp
        idx: 1

  bms_pack_balance_soc:
    id:  "0x6F5"
    id_type: "std"
    dlc: 8
    data:
      soc_ah:
        type: data_fp
        idx: 0
      soc_percent:
        type: data_fp
        idx: 1

  bms_charger_contr:
    id:  "0x6F6"
    id_type: "std"
    dlc: 8
    data:
      char_cell_volt_err:
        type: data_16
        idx: 0
      temp_marg:
        type: data_16
        idx: 1
      disc_cell_volt_err:
        type: data_16
        idx: 2
      pack_cap:
        type: data_16
        idx: 3

  bms_precharge_status:
    id:  "0x6F7"
    id_type: "std"
    dlc: 8
    data:
      precharge_contactor_driver_status:
        type: data_u8
        idx: 0
      precharge_state:
        type: data_u8
        idx: 1
      contactor_supply_voltage:
        type: data_u16
        idx: 1
      unused:
        type: data_u16
        idx: 2
      precharge_timer_status:
        type: data_u8
        idx: 6
      precharge_timer_counter:
        type: data_u8
        idx: 7

bms_min_max_cell_voltage:
  id: "6F8"
  id_type: "std"
  dlc: 8
  data:
    min_cell_voltage:
      type: data_u16
      idx: 0
    max_cell_voltage:
      type: data_u16
      idx: 1
    min_cell_voltage_cmu_num:
      type: data_u8
      idx: 4
    min_cell_voltage_cell_num:
      type: data_u8
      idx: 5
    max_cell_voltage_cmu_num:
      type: data_u8
      idx: 6
    max_cell_voltage_cell_num:
      type: data_u8
      idx: 7

bms_min_max_cell_temp:
  id: "6F9"
  id_type: "std"
  dlc: 8
  data:
    min_cell_temp:
      type: data_u16
      idx: 0
    max_cell_temp:
      type: data_u16
      idx: 1
    min_cell_temp_cmu_num:
      type: data_u8
      idx: 4
    unused:
      type: data_u8
      idx: 5
    max_cell_temp_cmu_num:
      type: data_u8
      idx: 6
    unused:
      type: data_u8
      idx: 7

bms_pack_voltage_current:
  id: "6FA"
  id_type: "std"
  dlc: 8
  data:
    battery_voltage:
      type: data_u32
      idx: 0
    battery_current:
      type: data_u32
      idx: 1

bms_pack_status:
  id: "6FB"
  id_type: "std"
  dlc: 8
  data:
    balance_voltage_threshold_rising:
      type: data_u16
      idx: 0
    balance_voltage_threshold_falling:
      type: data_u16
      idx: 1
    status_flags:
      type: data_u8
      idx: 4
    bms_cmu_count:
      type: data_u8
      idx: 5
    bms_bmu_firmaware_build_num:
      type: data_u16
      idx: 3

bms_fan_status:
  id: "6FC"
  id_type: "std"
  dlc: 8
  data:
    fan_speed_0:
      type: data_u16
      idx: 0
    fan_speed_1:
      type: data_u16
      idx: 1
    current_consumption_fan_contactors:
      type: data_u16
      idx: 2
    current_consumption_cmus:
      type: data_u16
      idx: 3

bms_extended_pack_status:
  id: "6FD"
  id_type: "std"
  dlc: 8
  data:
    status_flags:
      type: data_u32
      idx: 0
    bmu_hardware_version:
      type: data_u8
      idx: 4
    bmu_model_id:
      type: data_u8
      idx: 5
    unused:
      type: data_u16
      idx: 3

stwheel:
  stwheel_heartbeat:
    id:  "0x100"
    id_type: "ext"
    dlc: 6
    data:
      acc_pedal:
        type: data_u16
        idx: 0
      rec_pedal:
        type: data_u16
        idx: 1
      buttons_status:
        type: data_u16
        idx: 2

vcu:
  vcu_heartbeat:
    id: "0x305"
    id_type: "std"
    dlc: 6
    data:
      ignition_key:
        type: data_u16
        idx: 0
      switch_pos:
        type: data_u16
        idx: 1
      peripherals:
        type: data_u16
        idx: 2


mppt: # there are three MPPTs
  # encoder value 0
  mppt_power_meas_0:
    id: "0x200"
    id_type: "std"
    dlc: 8
    data:
      v_in:
        type: data_16
        idx: 0
      i_in:
        type: data_16
        idx: 1
      v_out:
        type: data_16
        idx: 2
      i_out:
        type: data_16
        idx: 3
  mppt_status_0:
    id: "0x201"
    id_type: "std"
    dlc: 5
    data:
      mode:
        type: data_u8
        idx: 0
      fault:
        type: data_u8
        idx: 1
      enabled:
        type: data_u8
        idx: 2
      ambient_temp:
        type: data_8
        idx: 3
      heatsink_temp:
        type: data_8
        idx: 4
  # encoder value 1
  mppt_power_meas_1:
    id: "0x210"
    id_type: "std"
    dlc: 8
    data:
      v_in:
        type: data_16
        idx: 0
      i_in:
        type: data_16
        idx: 1
      v_out:
        type: data_16
        idx: 2
      i_out:
        type: data_16
        idx: 3
  mppt_status_1:
    id: "0x211"
    id_type: "std"
    dlc: 5
    data:
      mode:
        type: data_u8
        idx: 0
      fault:
        type: data_u8
        idx: 1
      enabled:
        type: data_u8
        idx: 2
      ambient_temp:
        type: data_8
        idx: 3
      heatsink_temp:
        type: data_8
        idx: 4
  # encoder value 2
  mppt_power_meas_2:
    id: "0x220"
    id_type: "std"
    dlc: 8
    data:
      v_in:
        type: data_16
        idx: 0
      i_in:
        type: data_16
        idx: 1
      v_out:
        type: data_16
        idx: 2
      i_out:
        type: data_16
        idx: 3
  mppt_status_2:
    id: "0x221"
    id_type: "std"
    dlc: 5
    data:
      mode:
        type: data_u8
        idx: 0
      fault:
        type: data_u8
        idx: 1
      enabled:
        type: data_u8
        idx: 2
      ambient_temp:
        type: data_8
        idx: 3
      heatsink_temp:
        type: data_8
        idx: 4